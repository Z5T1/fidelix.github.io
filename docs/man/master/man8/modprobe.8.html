
<!DOCTYPE HTML>
<head>
	<title>/usr/share/man/man8/modprobe.8</title>		<link rel='stylesheet' href='/mandoc.css' />
	<link rel='stylesheet' href='/style.css' />
</head>
<body>
	<div class=contents>
	<div class=header>
	<h1>The Fidelix Linux Distribution</h1>
	<h2>Simple, Stable, and Secure</h2>
	</div>
<div class=menubar>
	<ul>
		<li><a href=/>News</a></li>
		<li><a href=/about.html>About</a></li>
		<li><a href=https://github.com/Z5T1/fidelix/releases>Download</a></li>
		<div class=dropdown>
			<li><a href=#>Documentation</a></li>
			<ul class=dropdown-content>
				<li><a href=/handbook/>Handbook</a></li>
				<li><a href=/man/>Manual Pages</a></li>
			</ul>
		</div>
		<div class=dropdown>
			<li><a href=#>Development</a></li>
			<ul class=dropdown-content>
				<li><a href=https://github.com/Z5T1/fidelix>GitHub</a></li>
			</ul>
		</div>
	</ul>
</div>


	<div class=body><table class="head">
  <tr>
    <td class="head-ltitle">MODPROBE(8)</td>
    <td class="head-vol">modprobe</td>
    <td class="head-rtitle">MODPROBE(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
modprobe - Add and remove modules from the Linux Kernel
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp HP"><b>modprobe</b> [<b>-v</b>] [<b>-V</b>]
    [<b>-C&#x00A0;</b><b></b> <i>config-file</i>] [<b>-n</b>] [<b>-i</b>]
    [<b>-q</b>] [<b>-b</b>] [<i>modulename</i>]
    [<b></b><i>module&#x00A0;parameters</i>...]</p>
<p class="Pp HP"><b>modprobe</b> [-r] [<b>-v</b>] [<b>-n</b>] [<b>-i</b>]
    [<b></b> <i>modulename</i>...]</p>
<p class="Pp HP"><b>modprobe</b> [-c]</p>
<p class="Pp HP"><b>modprobe</b> [--dump-modversions] [<i>filename</i>]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>modprobe</b> intelligently adds or removes a module from the Linux kernel:
  note that for convenience, there is no difference between _ and - in module
  names (automatic underscore conversion is performed). <b>modprobe</b> looks in
  the module directory /lib/modules/`uname -r` for all the modules and other
  files, except for the optional configuration files in the /etc/modprobe.d
  directory (see <b>modprobe.d</b>(5)). <b>modprobe</b> will also use module
  options specified on the kernel command line in the form of
  &lt;module&gt;.&lt;option&gt; and blacklists in the form of
  modprobe.blacklist=&lt;module&gt;.
<p class="Pp">Note that unlike in 2.4 series Linux kernels (which are not
    supported by this tool) this version of <b>modprobe</b> does not do anything
    to the module itself: the work of resolving symbols and understanding
    parameters is done inside the kernel. So module failure is sometimes
    accompanied by a kernel message: see <b>dmesg</b>(8).</p>
<p class="Pp"><b>modprobe</b> expects an up-to-date modules.dep.bin file as
    generated by the corresponding <b>depmod</b> utility shipped along with
    <b>modprobe</b> (see <b>depmod</b>(8)). This file lists what other modules
    each module needs (if any), and <b>modprobe</b> uses this to add or remove
    these dependencies automatically.</p>
<p class="Pp">If any arguments are given after the <i>modulename</i>, they are
    passed to the kernel (in addition to any options listed in the configuration
    file).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<b>-a</b>, <b>--all</b>
<div class="Bd-indent">Insert all module names on the command line.</div>
<p class="Pp"><b>-b</b>, <b>--use-blacklist</b></p>
<div class="Bd-indent">This option causes <b>modprobe</b> to apply the
  <b>blacklist</b> commands in the configuration files (if any) to module names
  as well. It is usually used by <b>udev</b>(7).</div>
<p class="Pp"><b>-C</b>, <b>--config</b></p>
<div class="Bd-indent">This option overrides the default configuration directory
  (/etc/modprobe.d).
<p class="Pp">This option is passed through <b>install</b> or <b>remove</b>
    commands to other <b>modprobe</b> commands in the MODPROBE_OPTIONS
    environment variable.</p>
</div>
<p class="Pp"><b>-c</b>, <b>--showconfig</b></p>
<div class="Bd-indent">Dump out the effective configuration from the config
  directory and exit.</div>
<p class="Pp"><b>--dump-modversions</b></p>
<div class="Bd-indent">Print out a list of module versioning information
  required by a module. This option is commonly used by distributions in order
  to package up a Linux kernel module using module versioning deps.</div>
<p class="Pp"><b>-d</b>, <b>--dirname</b></p>
<div class="Bd-indent">Root directory for modules, / by default.</div>
<p class="Pp"><b>--first-time</b></p>
<div class="Bd-indent">Normally, <b>modprobe</b> will succeed (and do nothing)
  if told to insert a module which is already present or to remove a module
  which isn't present. This is ideal for simple scripts; however, more
  complicated scripts often want to know whether <b>modprobe</b> really did
  something: this option makes modprobe fail in the case that it actually didn't
  do anything.</div>
<p class="Pp"><b>--force-vermagic</b></p>
<div class="Bd-indent">Every module contains a small string containing important
  information, such as the kernel and compiler versions. If a module fails to
  load and the kernel complains that the &quot;version magic&quot; doesn't
  match, you can use this option to remove it. Naturally, this check is there
  for your protection, so using this option is dangerous unless you know what
  you're doing.
<p class="Pp">This applies to any modules inserted: both the module (or alias)
    on the command line and any modules on which it depends.</p>
</div>
<p class="Pp"><b>--force-modversion</b></p>
<div class="Bd-indent">When modules are compiled with CONFIG_MODVERSIONS set, a
  section detailing the versions of every interfaced used by (or supplied by)
  the module is created. If a module fails to load and the kernel complains that
  the module disagrees about a version of some interface, you can use
  &quot;--force-modversion&quot; to remove the version information altogether.
  Naturally, this check is there for your protection, so using this option is
  dangerous unless you know what you're doing.
<p class="Pp">This applies any modules inserted: both the module (or alias) on
    the command line and any modules on which it depends.</p>
</div>
<p class="Pp"><b>-f</b>, <b>--force</b></p>
<div class="Bd-indent">Try to strip any versioning information from the module
  which might otherwise stop it from loading: this is the same as using both
  <b>--force-vermagic</b> and <b>--force-modversion</b>. Naturally, these checks
  are there for your protection, so using this option is dangerous unless you
  know what you are doing.
<p class="Pp">This applies to any modules inserted: both the module (or alias)
    on the command line and any modules it on which it depends.</p>
</div>
<p class="Pp"><b>-i</b>, <b>--ignore-install</b>, <b>--ignore-remove</b></p>
<div class="Bd-indent">This option causes <b>modprobe</b> to ignore
  <b>install</b> and <b>remove</b> commands in the configuration file (if any)
  for the module specified on the command line (any dependent modules are still
  subject to commands set for them in the configuration file). Both
  <b>install</b> and <b>remove</b> commands will currently be ignored when this
  option is used regardless of whether the request was more specifically made
  with only one or other (and not both) of <b>--ignore-install</b> or
  <b>--ignore-remove</b>. See <b>modprobe.d</b>(5).</div>
<p class="Pp"><b>-n</b>, <b>--dry-run</b>, <b>--show</b></p>
<div class="Bd-indent">This option does everything but actually insert or delete
  the modules (or run the install or remove commands). Combined with <b>-v</b>,
  it is useful for debugging problems. For historical reasons both
  <b>--dry-run</b> and <b>--show</b> actually mean the same thing and are
  interchangeable.</div>
<p class="Pp"><b>-q</b>, <b>--quiet</b></p>
<div class="Bd-indent">With this flag, <b>modprobe</b> won't print an error
  message if you try to remove or insert a module it can't find (and isn't an
  alias or <b>install</b>/<b>remove</b> command). However, it will still return
  with a non-zero exit status. The kernel uses this to opportunistically probe
  for modules which might exist using request_module.</div>
<p class="Pp"><b>-R</b>, <b>--resolve-alias</b></p>
<div class="Bd-indent">Print all module names matching an alias. This can be
  useful for debugging module alias problems.</div>
<p class="Pp"><b>-r</b>, <b>--remove</b></p>
<div class="Bd-indent">This option causes <b>modprobe</b> to remove rather than
  insert a module. If the modules it depends on are also unused, <b>modprobe</b>
  will try to remove them too. Unlike insertion, more than one module can be
  specified on the command line (it does not make sense to specify module
  parameters when removing modules).
<p class="Pp">There is usually no reason to remove modules, but some buggy
    modules require it. Your distribution kernel may not have been built to
    support removal of modules at all.</p>
</div>
<p class="Pp"><b>-S</b>, <b>--set-version</b></p>
<div class="Bd-indent">Set the kernel version, rather than using <b>uname</b>(2)
  to decide on the kernel version (which dictates where to find the
  modules).</div>
<p class="Pp"><b>--show-depends</b></p>
<div class="Bd-indent">List the dependencies of a module (or alias), including
  the module itself. This produces a (possibly empty) set of module filenames,
  one per line, each starting with &quot;insmod&quot; and is typically used by
  distributions to determine which modules to include when generating
  initrd/initramfs images. <b>Install</b> commands which apply are shown
  prefixed by &quot;install&quot;. It does not run any of the install commands.
  Note that <b>modinfo</b>(8) can be used to extract dependencies of a module
  from the module itself, but knows nothing of aliases or install
  commands.</div>
<p class="Pp"><b>-s</b>, <b>--syslog</b></p>
<div class="Bd-indent">This option causes any error messages to go through the
  syslog mechanism (as LOG_DAEMON with level LOG_NOTICE) rather than to standard
  error. This is also automatically enabled when stderr is unavailable.
<p class="Pp">This option is passed through <b>install</b> or <b>remove</b>
    commands to other <b>modprobe</b> commands in the MODPROBE_OPTIONS
    environment variable.</p>
</div>
<p class="Pp"><b>-V</b>, <b>--version</b></p>
<div class="Bd-indent">Show version of program and exit.</div>
<p class="Pp"><b>-v</b>, <b>--verbose</b></p>
<div class="Bd-indent">Print messages about what the program is doing. Usually
  <b>modprobe</b> only prints messages if something goes wrong.
<p class="Pp">This option is passed through <b>install</b> or <b>remove</b>
    commands to other <b>modprobe</b> commands in the MODPROBE_OPTIONS
    environment variable.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The MODPROBE_OPTIONS environment variable can also be used to pass arguments to
  <b>modprobe</b>.
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
This manual page originally Copyright 2002, Rusty Russell, IBM Corporation.
  Maintained by Jon Masters and others.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>modprobe.d</b>(5), <b>insmod</b>(8), <b>rmmod</b>(8), <b>lsmod</b>(8),
  <b>modinfo</b>(8) <b>depmod</b>(8)
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<b>Jon Masters</b> &lt;jcm@jonmasters.org&gt;
<div class="Bd-indent">Developer</div>
<p class="Pp"><b>Robby Workman</b> &lt;rworkman@slackware.com&gt;</p>
<div class="Bd-indent">Developer</div>
<p class="Pp"><b>Lucas De Marchi</b> &lt;lucas.de.marchi@gmail.com&gt;</p>
<div class="Bd-indent">Developer</div>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">02/07/2019</td>
    <td class="foot-os">kmod</td>
  </tr>
</table>

	</div>
	<div class=footer>
		<p>Copyright 2020 Scott Court</p>
	</div>
	</div>
</body>
