
<!DOCTYPE HTML>
<head>
	<title>/usr/share/man/man1/perl5004delta.1</title>		<link rel='stylesheet' href='/mandoc.css' />
	<link rel='stylesheet' href='/style.css' />
</head>
<body>
	<div class=contents>
	<div class=header>
	<h1>The Fidelix Linux Distribution</h1>
	<h2>Simple, Stable, and Secure</h2>
	</div>
<div class=menubar>
	<ul>
		<li><a href=/>News</a></li>
		<li><a href=/about.html>About</a></li>
		<div class=dropdown>
			<li><a href=/download>Download</a></li>
			<ul class=dropdown-content>
				<li><a href=/download/>Latest Downloads</a></li>
				<li><a href=/download/all.html>All Downloads</a></li>
			</ul>
		</div>
		<div class=dropdown>
			<li><a href=#>Documentation</a></li>
			<ul class=dropdown-content>
				<li><a href=https://github.com/fidelix-project/fidelix/blob/master/doc/README.md>Handbook</a></li>
				<li><a href=/man/>Manual Pages</a></li>
			</ul>
		</div>
		<div class=dropdown>
			<li><a href=#>Development</a></li>
			<ul class=dropdown-content>
				<li><a href=https://github.com/fidelix-project>GitHub</a></li>
			</ul>
		</div>
		<div class=dropdown>
			<li><a href=#>Community</a></li>
			<ul class=dropdown-content>
				<li><a href=https://discord.com/invite/Yz8DeUr>Discord</a></li>
				<li><a href=/get-involved.html>Get Involved</a></li>
				<li><a href=/contact.html>Contact Us</a></li>
			</ul>
		</div>
	</ul>
</div>


	<div class=body><table class="head">
  <tr>
    <td class="head-ltitle">PERL5004DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5004DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
perl5004delta - what's new for perl5.004
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This document describes differences between the 5.003 release (as documented in
  <i>Programming Perl</i>, second edition--the Camel Book) and this one.
</section>
<section class="Sh">
<h1 class="Sh" id="Supported_Environments"><a class="permalink" href="#Supported_Environments">Supported
  Environments</a></h1>
Perl5.004 builds out of the box on Unix, Plan 9, LynxOS, VMS, OS/2, QNX,
  AmigaOS, and Windows NT. Perl runs on Windows 95 as well, but it cannot be
  built there, for lack of a reasonable command interpreter.
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Changes"><a class="permalink" href="#Core_Changes">Core
  Changes</a></h1>
Most importantly, many bugs were fixed, including several security problems. See
  the <i>Changes</i> file in the distribution for details.
<section class="Ss">
<h2 class="Ss" id="List_assignment_to__ENV_works"><a class="permalink" href="#List_assignment_to__ENV_works">List
  assignment to %ENV works</a></h2>
<span class="Li">&quot;%ENV = ()&quot;</span> and <span class="Li">&quot;%ENV =
  @list&quot;</span> now work as expected (except on VMS where it generates a
  fatal error).
</section>
<section class="Ss">
<h2 class="Ss" id="Change_to__Can't_locate_Foo.pm_in_@INC__error"><a class="permalink" href="#Change_to__Can't_locate_Foo.pm_in_@INC__error">Change
  to &quot;Can't locate Foo.pm in @INC&quot; error</a></h2>
The error &quot;Can't locate Foo.pm in <span class="Li">@INC</span>&quot; now
  lists the contents of <span class="Li">@INC</span> for easier debugging.
</section>
<section class="Ss">
<h2 class="Ss" id="Compilation_option:_Binary_compatibility_with_5.003"><a class="permalink" href="#Compilation_option:_Binary_compatibility_with_5.003">Compilation
  option: Binary compatibility with 5.003</a></h2>
There is a new Configure question that asks if you want to maintain binary
  compatibility with Perl 5.003. If you choose binary compatibility, you do not
  have to recompile your extensions, but you might have symbol conflicts if you
  embed Perl in another application, just as in the 5.003 release. By default,
  binary compatibility is preserved at the expense of symbol table pollution.
</section>
<section class="Ss">
<h2 class="Ss" id="$PERL5OPT_environment_variable"><a class="permalink" href="#$PERL5OPT_environment_variable">$PERL5OPT
  environment variable</a></h2>
You may now put Perl options in the <span class="Li">$PERL5OPT</span>
  environment variable. Unless Perl is running with taint checks, it will
  interpret this variable as if its contents had appeared on a
  &quot;#!perl&quot; line at the beginning of your script, except that hyphens
  are optional. PERL5OPT may only be used to set the following switches:
  <b>-[DIMUdmw]</b>.
</section>
<section class="Ss">
<h2 class="Ss" id="Limitations_on__fB_-M_fP,__fB_-m_fP,_and__fB_-T_fP_options"><a class="permalink" href="#Limitations_on__fB_-M_fP,__fB_-m_fP,_and__fB_-T_fP_options">Limitations
  on <b>-M</b>, <b>-m</b>, and <b>-T</b> options</a></h2>
The <span class="Li">&quot;-M&quot;</span> and
  <span class="Li">&quot;-m&quot;</span> options are no longer allowed on the
  <span class="Li">&quot;#!&quot;</span> line of a script. If a script needs a
  module, it should invoke it with the <span class="Li">&quot;use&quot;</span>
  pragma.
<p class="Pp">The <b>-T</b> option is also forbidden on the
    <span class="Li">&quot;#!&quot;</span> line of a script, unless it was
    present on the Perl command line. Due to the way
    <span class="Li">&quot;#!&quot;</span> works, this usually means that
    <b>-T</b> must be in the first argument. Thus:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/bin/perl -T -w
</pre>
<p class="Pp">will probably work for an executable script invoked as
    <span class="Li">&quot;scriptname&quot;</span>, while:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    #!/usr/bin/perl -w -T
</pre>
<p class="Pp">will probably fail under the same conditions. (Non-Unix systems
    will probably not follow this rule.) But <span class="Li">&quot;perl
    scriptname&quot;</span> is guaranteed to fail, since then there is no chance
    of <b>-T</b> being found on the command line before it is found on the
    <span class="Li">&quot;#!&quot;</span> line.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="More_precise_warnings"><a class="permalink" href="#More_precise_warnings">More
  precise warnings</a></h2>
If you removed the <b>-w</b> option from your Perl 5.003 scripts because it made
  Perl too verbose, we recommend that you try putting it back when you upgrade
  to Perl 5.004. Each new perl version tends to remove some undesirable
  warnings, while adding new warnings that may catch bugs in your scripts.
</section>
<section class="Ss">
<h2 class="Ss" id="Deprecated:_Inherited__AUTOLOAD__for_non-methods"><a class="permalink" href="#Deprecated:_Inherited__AUTOLOAD__for_non-methods">Deprecated:
  Inherited &quot;AUTOLOAD&quot; for non-methods</a></h2>
Before Perl 5.004, <span class="Li">&quot;AUTOLOAD&quot;</span> functions were
  looked up as methods (using the <span class="Li">@ISA</span> hierarchy), even
  when the function to be autoloaded was called as a plain function (e.g.
  <span class="Li">&quot;Foo::bar()&quot;</span>), not a method (e.g.
  <span class="Li">&quot;Foo-&gt;bar()&quot;</span> or
  <span class="Li">&quot;$obj-&gt;bar()&quot;</span>).
<p class="Pp">Perl 5.005 will use method lookup only for methods'
    <span class="Li">&quot;AUTOLOAD&quot;</span>s. However, there is a
    significant base of existing code that may be using the old behavior. So, as
    an interim step, Perl 5.004 issues an optional warning when a non-method
    uses an inherited <span class="Li">&quot;AUTOLOAD&quot;</span>.</p>
<p class="Pp">The simple rule is: Inheritance will not work when autoloading
    non-methods. The simple fix for old code is: In any module that used to
    depend on inheriting <span class="Li">&quot;AUTOLOAD&quot;</span> for
    non-methods from a base class named
    <span class="Li">&quot;BaseClass&quot;</span>, execute
    <span class="Li">&quot;*AUTOLOAD = \&amp;BaseClass::AUTOLOAD&quot;</span>
    during startup.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Previously_deprecated__OVERLOAD_is_no_longer_usable"><a class="permalink" href="#Previously_deprecated__OVERLOAD_is_no_longer_usable">Previously
  deprecated %OVERLOAD is no longer usable</a></h2>
Using <span class="Li">%OVERLOAD</span> to define overloading was deprecated in
  5.003. Overloading is now defined using the overload pragma.
  <span class="Li">%OVERLOAD</span> is still used internally but should not be
  used by Perl scripts. See overload for more details.
</section>
<section class="Ss">
<h2 class="Ss" id="Subroutine_arguments_created_only_when_they're_modified"><a class="permalink" href="#Subroutine_arguments_created_only_when_they're_modified">Subroutine
  arguments created only when they're modified</a></h2>
In Perl 5.004, nonexistent array and hash elements used as subroutine parameters
  are brought into existence only if they are actually assigned to (via
  <span class="Li">@_</span>).
<p class="Pp">Earlier versions of Perl vary in their handling of such arguments.
    Perl versions 5.002 and 5.003 always brought them into existence. Perl
    versions 5.000 and 5.001 brought them into existence only if they were not
    the first argument (which was almost certainly a bug). Earlier versions of
    Perl never brought them into existence.</p>
<p class="Pp">For example, given this code:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
     undef @a; undef %a;
     sub show { print $_[0] };
     sub change { $_[0]++ };
     show($a[2]);
     change($a{b});
</pre>
<p class="Pp">After this code executes in Perl 5.004,
    <span class="Li">$a</span>{b} exists but <span class="Li">$a</span>[2] does
    not. In Perl 5.002 and 5.003, both <span class="Li">$a</span>{b} and
    <span class="Li">$a</span>[2] would have existed (but
    <span class="Li">$a</span>[2]'s value would have been undefined).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Group_vector_changeable_with_$)"><a class="permalink" href="#Group_vector_changeable_with_$)">Group
  vector changeable with $)</a></h2>
The <span class="Li">$)</span> special variable has always (well, in Perl 5, at
  least) reflected not only the current effective group, but also the group list
  as returned by the <span class="Li">&quot;getgroups()&quot;</span> C function
  (if there is one). However, until this release, there has not been a way to
  call the <span class="Li">&quot;setgroups()&quot;</span> C function from Perl.
<p class="Pp">In Perl 5.004, assigning to <span class="Li">$)</span> is exactly
    symmetrical with examining it: The first number in its string value is used
    as the effective gid; if there are any numbers after the first one, they are
    passed to the <span class="Li">&quot;setgroups()&quot;</span> C function (if
    there is one).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fixed_parsing_of_$$_digit_,_&amp;$_digit_,_etc."><a class="permalink" href="#Fixed_parsing_of_$$_digit_,_&amp;$_digit_,_etc.">Fixed
  parsing of $$&lt;digit&gt;, &amp;$&lt;digit&gt;, etc.</a></h2>
Perl versions before 5.004 misinterpreted any type marker followed by
  &quot;$&quot; and a digit. For example, &quot;$$0&quot; was incorrectly taken
  to mean &quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is (mostly)
  fixed in Perl 5.004.
<p class="Pp">However, the developers of Perl 5.004 could not fix this bug
    completely, because at least two widely-used modules depend on the old
    meaning of &quot;$$0&quot; in a string. So Perl 5.004 still interprets
    &quot;$$&lt;digit&gt;&quot; in the old (broken) way inside strings; but it
    generates this message as a warning. And in Perl 5.005, this special
    treatment will cease.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fixed_localization_of_$_digit_,_$&amp;,_etc."><a class="permalink" href="#Fixed_localization_of_$_digit_,_$&amp;,_etc.">Fixed
  localization of $&lt;digit&gt;, $&amp;, etc.</a></h2>
Perl versions before 5.004 did not always properly localize the regex-related
  special variables. Perl 5.004 does localize them, as the documentation has
  always said it should. This may result in <span class="Li">$1</span>,
  <span class="Li">$2</span>, etc. no longer being set where existing programs
  use them.
</section>
<section class="Ss">
<h2 class="Ss" id="No_resetting_of_$._on_implicit_close"><a class="permalink" href="#No_resetting_of_$._on_implicit_close">No
  resetting of $. on implicit close</a></h2>
The documentation for Perl 5.0 has always stated that <span class="Li">$.</span>
  is <i>not</i> reset when an already-open file handle is reopened with no
  intervening call to <span class="Li">&quot;close&quot;</span>. Due to a bug,
  perl versions 5.000 through 5.003 <i>did</i> reset <span class="Li">$.</span>
  under that circumstance; Perl 5.004 does not.
</section>
<section class="Ss">
<h2 class="Ss" id="_wantarray__may_return_undef"><a class="permalink" href="#_wantarray__may_return_undef">&quot;wantarray&quot;
  may return undef</a></h2>
The <span class="Li">&quot;wantarray&quot;</span> operator returns true if a
  subroutine is expected to return a list, and false otherwise. In Perl 5.004,
  <span class="Li">&quot;wantarray&quot;</span> can also return the undefined
  value if a subroutine's return value will not be used at all, which allows
  subroutines to avoid a time-consuming calculation of a return value if it
  isn't going to be used.
</section>
<section class="Ss">
<h2 class="Ss" id="_eval_EXPR__determines_value_of__s-1EXPR_s0_in_scalar_context"><a class="permalink" href="#_eval_EXPR__determines_value_of__s-1EXPR_s0_in_scalar_context">&quot;eval
  EXPR&quot; determines value of EXPR in scalar context</a></h2>
Perl (version 5) used to determine the value of EXPR inconsistently, sometimes
  incorrectly using the surrounding context for the determination. Now, the
  value of EXPR (before being parsed by eval) is always determined in a scalar
  context. Once parsed, it is executed as before, by providing the context that
  the scope surrounding the eval provided. This change makes the behavior Perl4
  compatible, besides fixing bugs resulting from the inconsistent behavior. This
  program:
<p class="Pp"><span class="Li"></span></p>
<pre>
    @a = qw(time now is time);
    print eval @a;
    print '|', scalar eval @a;
</pre>
<p class="Pp">used to print something like &quot;timenowis881399109|4&quot;, but
    now (and in perl4) prints &quot;4|4&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_tainting_checks"><a class="permalink" href="#Changes_to_tainting_checks">Changes
  to tainting checks</a></h2>
A bug in previous versions may have failed to detect some insecure conditions
  when taint checks are turned on. (Taint checks are used in setuid or setgid
  scripts, or when explicitly turned on with the
  <span class="Li">&quot;-T&quot;</span> invocation option.) Although it's
  unlikely, this may cause a previously-working script to now fail, which should
  be construed as a blessing since that indicates a potentially-serious security
  hole was just plugged.
<p class="Pp">The new restrictions when tainting include:</p>
<dl class="Bl-tag">
  <dt>No <b>glob()</b> or &lt;*&gt;</dt>
  <dd>These operators may spawn the C shell (csh), which cannot be made safe.
      This restriction will be lifted in a future version of Perl when globbing
      is implemented without the use of an external program.</dd>
  <dt>No spawning if tainted $CDPATH, $ENV, $BASH_ENV</dt>
  <dd>These environment variables may alter the behavior of spawned programs
      (especially shells) in ways that subvert security. So now they are treated
      as dangerous, in the manner of <span class="Li">$IFS</span> and
      <span class="Li">$PATH</span>.</dd>
  <dt>No spawning if tainted $TERM doesn't look like a terminal name</dt>
  <dd>Some termcap libraries do unsafe things with
      <span class="Li">$TERM</span>. However, it would be unnecessarily harsh to
      treat all <span class="Li">$TERM</span> values as unsafe, since only shell
      metacharacters can cause trouble in <span class="Li">$TERM</span>. So a
      tainted <span class="Li">$TERM</span> is considered to be safe if it
      contains only alphanumerics, underscores, dashes, and colons, and unsafe
      if it contains other characters (including whitespace).</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Opcode_module_and_revised_Safe_module"><a class="permalink" href="#New_Opcode_module_and_revised_Safe_module">New
  Opcode module and revised Safe module</a></h2>
A new Opcode module supports the creation, manipulation and application of
  opcode masks. The revised Safe module has a new API and is implemented using
  the new Opcode module. Please read the new Opcode and Safe documentation.
</section>
<section class="Ss">
<h2 class="Ss" id="Embedding_improvements"><a class="permalink" href="#Embedding_improvements">Embedding
  improvements</a></h2>
In older versions of Perl it was not possible to create more than one Perl
  interpreter instance inside a single process without leaking like a sieve
  and/or crashing. The bugs that caused this behavior have all been fixed.
  However, you still must take care when embedding Perl in a C program. See the
  updated perlembed manpage for tips on how to manage your interpreters.
</section>
<section class="Ss">
<h2 class="Ss" id="Internal_change:_FileHandle_class_based_on_IO::*_classes"><a class="permalink" href="#Internal_change:_FileHandle_class_based_on_IO::*_classes">Internal
  change: FileHandle class based on IO::* classes</a></h2>
File handles are now stored internally as type IO::Handle. The FileHandle module
  is still supported for backwards compatibility, but it is now merely a front
  end to the IO::* modules, specifically IO::Handle, IO::Seekable, and IO::File.
  We suggest, but do not require, that you use the IO::* modules in new code.
<p class="Pp">In harmony with this change,
    <span class="Li">*GLOB{FILEHANDLE}</span> is now just a backward-compatible
    synonym for <span class="Li">*GLOB{IO}</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Internal_change:_PerlIO_abstraction_interface"><a class="permalink" href="#Internal_change:_PerlIO_abstraction_interface">Internal
  change: PerlIO abstraction interface</a></h2>
It is now possible to build Perl with AT&amp;T's sfio IO package instead of
  stdio. See perlapio for more details, and the <i>INSTALL</i> file for how to
  use it.
</section>
<section class="Ss">
<h2 class="Ss" id="New_and_changed_syntax"><a class="permalink" href="#New_and_changed_syntax">New
  and changed syntax</a></h2>
<dl class="Bl-tag">
  <dt>$coderef-&gt;(PARAMS)</dt>
  <dd>A subroutine reference may now be suffixed with an arrow and a (possibly
      empty) parameter list. This syntax denotes a call of the referenced
      subroutine, with the given parameters (if any).
    <p class="Pp">This new syntax follows the pattern of
        <span class="Li">&quot;$hashref-&gt;{FOO}&quot;</span> and
        <span class="Li">&quot;$aryref-&gt;[$foo]&quot;</span>: You may now
        write <span class="Li">&quot;&amp;$subref($foo)&quot;</span> as
        <span class="Li">&quot;$subref-&gt;($foo)&quot;</span>. All these arrow
        terms may be chained; thus,
        <span class="Li">&quot;&amp;{$table-&gt;{FOO}}($bar)&quot;</span> may
        now be written
        <span class="Li">&quot;$table-&gt;{FOO}-&gt;($bar)&quot;</span>.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_and_changed_builtin_constants"><a class="permalink" href="#New_and_changed_builtin_constants">New
  and changed builtin constants</a></h2>
<dl class="Bl-tag">
  <dt>__PACKAGE__</dt>
  <dd>The current package name at compile time, or the undefined value if there
      is no current package (due to a
      <span class="Li">&quot;package;&quot;</span> directive). Like
      <span class="Li">&quot;__FILE__&quot;</span> and
      <span class="Li">&quot;__LINE__&quot;</span>,
      <span class="Li">&quot;__PACKAGE__&quot;</span> does <i>not</i>
      interpolate into strings.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_and_changed_builtin_variables"><a class="permalink" href="#New_and_changed_builtin_variables">New
  and changed builtin variables</a></h2>
<dl class="Bl-tag">
  <dt>$^E</dt>
  <dd>Extended error message on some platforms. (Also known as
      <span class="Li">$EXTENDED_OS_ERROR</span> if you
      <span class="Li">&quot;use English&quot;</span>).</dd>
  <dt>$^H</dt>
  <dd>The current set of syntax checks enabled by <span class="Li">&quot;use
      strict&quot;</span>. See the documentation of
      <span class="Li">&quot;strict&quot;</span> for more details. Not actually
      new, but newly documented. Because it is intended for internal use by Perl
      core components, there is no <span class="Li">&quot;use
      English&quot;</span> long name for this variable.</dd>
  <dt>$^M</dt>
  <dd>By default, running out of memory it is not trappable. However, if
      compiled for this, Perl may use the contents of
      <span class="Li">$^M</span> as an emergency pool after <b>die()</b>ing
      with this message. Suppose that your Perl were compiled with
      -DPERL_EMERGENCY_SBRK and used Perl's malloc. Then
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $^M = 'a' x (1&lt;&lt;16);
    </pre>
    <p class="Pp">would allocate a 64K buffer for use when in emergency. See the
        <i>INSTALL</i> file for information on how to enable this option. As a
        disincentive to casual use of this advanced feature, there is no
        <span class="Li">&quot;use English&quot;</span> long name for this
        variable.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_and_changed_builtin_functions"><a class="permalink" href="#New_and_changed_builtin_functions">New
  and changed builtin functions</a></h2>
<dl class="Bl-tag">
  <dt>delete on slices</dt>
  <dd>This now works. (e.g. <span class="Li">&quot;delete @ENV{'PATH',
      'MANPATH'}&quot;</span>)</dd>
  <dt>flock</dt>
  <dd>is now supported on more platforms, prefers fcntl to lockf when emulating,
      and always flushes before (un)locking.</dd>
  <dt>printf and sprintf</dt>
  <dd>Perl now implements these functions itself; it doesn't use the C library
      function <b>sprintf()</b> any more, except for floating-point numbers, and
      even then only known flags are allowed. As a result, it is now possible to
      know which conversions and flags will work, and what they will do.
    <p class="Pp">The new conversions in Perl's <b>sprintf()</b> are:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   %i   a synonym for %d
   %p   a pointer (the address of the Perl value, in hexadecimal)
   %n   special: *stores* the number of characters output so far
        into the next variable in the parameter list
    </pre>
    <p class="Pp">The new flags that go between the
        <span class="Li">&quot;%&quot;</span> and the conversion are:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   #    prefix octal with &quot;0&quot;, hex with &quot;0x&quot;
   h    interpret integer as C type &quot;short&quot; or &quot;unsigned short&quot;
   V    interpret integer as Perl's standard integer type
    </pre>
    <p class="Pp">Also, where a number would appear in the flags, an asterisk
        (&quot;*&quot;) may be used instead, in which case Perl uses the next
        item in the parameter list as the given number (that is, as the field
        width or precision). If a field width obtained through &quot;*&quot; is
        negative, it has the same effect as the '-' flag:
      left-justification.</p>
    <p class="Pp">See &quot;sprintf&quot; in perlfunc for a complete list of
        conversion and flags.</p>
  </dd>
  <dt>keys as an lvalue</dt>
  <dd>As an lvalue, <span class="Li">&quot;keys&quot;</span> allows you to
      increase the number of hash buckets allocated for the given hash. This can
      gain you a measure of efficiency if you know the hash is going to get big.
      (This is similar to pre-extending an array by assigning a larger number to
      $#array.) If you say
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    keys %hash = 200;
    </pre>
    <p class="Pp">then <span class="Li">%hash</span> will have at least 200
        buckets allocated for it. These buckets will be retained even if you do
        <span class="Li">&quot;%hash = ()&quot;</span>; use
        <span class="Li">&quot;undef</span> <span class="Li">%hash&quot;</span>
        if you want to free the storage while <span class="Li">%hash</span> is
        still in scope. You can't shrink the number of buckets allocated for the
        hash using <span class="Li">&quot;keys&quot;</span> in this way (but you
        needn't worry about doing this by accident, as trying has no
      effect).</p>
  </dd>
  <dt><b>my()</b> in Control Structures</dt>
  <dd>You can now use <b>my()</b> (with or without the parentheses) in the
      control expressions of control structures such as:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    while (defined(my $line = &lt;&gt;)) {
        $line = lc $line;
    } continue {
        print $line;
    }

    if ((my $answer = &lt;STDIN&gt;) =~ /^y(es)?$/i) {
        user_agrees();
    } elsif ($answer =~ /^n(o)?$/i) {
        user_disagrees();
    } else {
        chomp $answer;
        die &quot;`$answer' is neither `yes' nor `no'&quot;;
    }
    </pre>
    <p class="Pp">Also, you can declare a foreach loop control variable as
        lexical by preceding it with the word &quot;my&quot;. For example,
      in:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    foreach my $i (1, 2, 3) {
        some_function();
    }
    </pre>
    <p class="Pp"><span class="Li">$i</span> is a lexical variable, and the
        scope of <span class="Li">$i</span> extends to the end of the loop, but
        not beyond it.</p>
    <p class="Pp">Note that you still cannot use <b>my()</b> on global
        punctuation variables such as <span class="Li">$_</span> and the
      like.</p>
  </dd>
  <dt><b>pack()</b> and <b>unpack()</b></dt>
  <dd>A new format 'w' represents a BER compressed integer (as defined in
      ASN.1). Its format is a sequence of one or more bytes, each of which
      provides seven bits of the total value, with the most significant first.
      Bit eight of each byte is set, except for the last byte, in which bit
      eight is clear.
    <p class="Pp">If 'p' or 'P' are given undef as values, they now generate a
        NULL pointer.</p>
    <p class="Pp">Both <b>pack()</b> and <b>unpack()</b> now fail when their
        templates contain invalid types. (Invalid types used to be ignored.)</p>
  </dd>
  <dt><b>sysseek()</b></dt>
  <dd>The new <b>sysseek()</b> operator is a variant of <b>seek()</b> that sets
      and gets the file's system read/write position, using the <b>lseek</b>(2)
      system call. It is the only reliable way to seek before using
      <b>sysread()</b> or <b>syswrite()</b>. Its return value is the new
      position, or the undefined value on failure.</dd>
  <dt>use VERSION</dt>
  <dd>If the first argument to <span class="Li">&quot;use&quot;</span> is a
      number, it is treated as a version number instead of a module name. If the
      version of the Perl interpreter is less than VERSION, then an error
      message is printed and Perl exits immediately. Because
      <span class="Li">&quot;use&quot;</span> occurs at compile time, this check
      happens immediately during the compilation process, unlike
      <span class="Li">&quot;require VERSION&quot;</span>, which waits until
      runtime for the check. This is often useful if you need to check the
      current Perl version before <span class="Li">&quot;use&quot;</span>ing
      library modules which have changed in incompatible ways from older
      versions of Perl. (We try not to do this more than we have to.)</dd>
  <dt>use Module VERSION LIST</dt>
  <dd>If the VERSION argument is present between Module and LIST, then the
      <span class="Li">&quot;use&quot;</span> will call the VERSION method in
      class Module with the given version as an argument. The default VERSION
      method, inherited from the UNIVERSAL class, croaks if the given version is
      larger than the value of the variable
      <span class="Li">$Module::VERSION</span>. (Note that there is not a comma
      after VERSION!)
    <p class="Pp">This version-checking mechanism is similar to the one
        currently used in the Exporter module, but it is faster and can be used
        with modules that don't use the Exporter. It is the recommended method
        for new code.</p>
  </dd>
  <dt>prototype(FUNCTION)</dt>
  <dd>Returns the prototype of a function as a string (or
      <span class="Li">&quot;undef&quot;</span> if the function has no
      prototype). FUNCTION is a reference to or the name of the function whose
      prototype you want to retrieve. (Not actually new; just never documented
      before.)</dd>
  <dt>srand</dt>
  <dd>The default seed for <span class="Li">&quot;srand&quot;</span>, which used
      to be <span class="Li">&quot;time&quot;</span>, has been changed. Now it's
      a heady mix of difficult-to-predict system-dependent values, which should
      be sufficient for most everyday purposes.
    <p class="Pp">Previous to version 5.004, calling
        <span class="Li">&quot;rand&quot;</span> without first calling
        <span class="Li">&quot;srand&quot;</span> would yield the same sequence
        of random numbers on most or all machines. Now, when perl sees that
        you're calling <span class="Li">&quot;rand&quot;</span> and haven't yet
        called <span class="Li">&quot;srand&quot;</span>, it calls
        <span class="Li">&quot;srand&quot;</span> with the default seed. You
        should still call <span class="Li">&quot;srand&quot;</span> manually if
        your code might ever be run on a pre-5.004 system, of course, or if you
        want a seed other than the default.</p>
  </dd>
  <dt>$_ as Default</dt>
  <dd>Functions documented in the Camel to default to <span class="Li">$_</span>
      now in fact do, and all those that do are so documented in perlfunc.</dd>
  <dt>&quot;m//gc&quot; does not reset search position on failure</dt>
  <dd>The <span class="Li">&quot;m//g&quot;</span> match iteration construct has
      always reset its target string's search position (which is visible through
      the <span class="Li">&quot;pos&quot;</span> operator) when a match fails;
      as a result, the next <span class="Li">&quot;m//g&quot;</span> match after
      a failure starts again at the beginning of the string. With Perl 5.004,
      this reset may be disabled by adding the &quot;c&quot; (for
      &quot;continue&quot;) modifier, i.e.
      <span class="Li">&quot;m//gc&quot;</span>. This feature, in conjunction
      with the <span class="Li">&quot;\G&quot;</span> zero-width assertion,
      makes it possible to chain matches together. See perlop and perlre.</dd>
  <dt>&quot;m//x&quot; ignores whitespace before ?*+{}</dt>
  <dd>The <span class="Li">&quot;m//x&quot;</span> construct has always been
      intended to ignore all unescaped whitespace. However, before Perl 5.004,
      whitespace had the effect of escaping repeat modifiers like &quot;*&quot;
      or &quot;?&quot;; for example, <span class="Li">&quot;/a *b/x&quot;</span>
      was (mis)interpreted as <span class="Li">&quot;/a\*b/x&quot;</span>. This
      bug has been fixed in 5.004.</dd>
  <dt>nested &quot;sub{}&quot; closures work now</dt>
  <dd>Prior to the 5.004 release, nested anonymous functions didn't work right.
      They do now.</dd>
  <dt>formats work right on changing lexicals</dt>
  <dd>Just like anonymous functions that contain lexical variables that change
      (like a lexical index variable for a
      <span class="Li">&quot;foreach&quot;</span> loop), formats now work
      properly. For example, this silently failed before (printed only zeros),
      but is fine now:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my $i;
    foreach $i ( 1 .. 10 ) {
        write;
    }
    format =
        my i is @#
        $i
    .
    </pre>
    <p class="Pp">However, it still fails (without a warning) if the foreach is
        within a subroutine:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    my $i;
    sub foo {
      foreach $i ( 1 .. 10 ) {
        write;
      }
    }
    foo;
    format =
        my i is @#
        $i
    .
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="New_builtin_methods"><a class="permalink" href="#New_builtin_methods">New
  builtin methods</a></h2>
The <span class="Li">&quot;UNIVERSAL&quot;</span> package automatically contains
  the following methods that are inherited by all other classes:
<dl class="Bl-tag">
  <dt>isa(CLASS)</dt>
  <dd><span class="Li">&quot;isa&quot;</span> returns <i>true</i> if its object
      is blessed into a subclass of <span class="Li">&quot;CLASS&quot;</span>
    <p class="Pp"><span class="Li">&quot;isa&quot;</span> is also exportable and
        can be called as a sub with two arguments. This allows the ability to
        check what a reference points to. Example:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    use UNIVERSAL qw(isa);

    if(isa($ref, 'ARRAY')) {
       ...
    }
    </pre>
  </dd>
  <dt>can(METHOD)</dt>
  <dd><span class="Li">&quot;can&quot;</span> checks to see if its object has a
      method called <span class="Li">&quot;METHOD&quot;</span>, if it does then
      a reference to the sub is returned; if it does not then <i>undef</i> is
      returned.</dd>
  <dt>VERSION( [NEED] )</dt>
  <dd><span class="Li">&quot;VERSION&quot;</span> returns the version number of
      the class (package). If the NEED argument is given then it will check that
      the current version (as defined by the <span class="Li">$VERSION</span>
      variable in the given package) not less than NEED; it will die if this is
      not the case. This method is normally called as a class method. This
      method is called automatically by the
      <span class="Li">&quot;VERSION&quot;</span> form of
      <span class="Li">&quot;use&quot;</span>.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    use A 1.2 qw(some imported subs);
    # implies:
    A-&gt;VERSION(1.2);
    </pre>
  </dd>
</dl>
<p class="Pp"><b>NOTE:</b> <span class="Li">&quot;can&quot;</span> directly uses
    Perl's internal code for method lookup, and
    <span class="Li">&quot;isa&quot;</span> uses a very similar method and
    caching strategy. This may cause strange effects if the Perl code
    dynamically changes <span class="Li">@ISA</span> in any package.</p>
<p class="Pp">You may add other methods to the UNIVERSAL class via Perl or XS
    code. You do not need to <span class="Li">&quot;use UNIVERSAL&quot;</span>
    in order to make these methods available to your program. This is necessary
    only if you wish to have <span class="Li">&quot;isa&quot;</span> available
    as a plain subroutine in the current package.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1TIEHANDLE_s0_now_supported"><a class="permalink" href="#_s-1TIEHANDLE_s0_now_supported">TIEHANDLE
  now supported</a></h2>
See perltie for other kinds of <b>tie()</b>s.
<dl class="Bl-tag">
  <dt>TIEHANDLE classname, LIST</dt>
  <dd>This is the constructor for the class. That means it is expected to return
      an object of some sort. The reference can be used to hold some internal
      information.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub TIEHANDLE {
        print &quot;&lt;shout&gt;\n&quot;;
        my $i;
        return bless \$i, shift;
    }
    </pre>
  </dd>
  <dt>PRINT this, LIST</dt>
  <dd>This method will be triggered every time the tied handle is printed to.
      Beyond its self reference it also expects the list that was passed to the
      print function.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub PRINT {
        $r = shift;
        $$r++;
        return print join( $, =&gt; map {uc} @_), $\;
    }
    </pre>
  </dd>
  <dt>PRINTF this, LIST</dt>
  <dd>This method will be triggered every time the tied handle is printed to
      with the <span class="Li">&quot;printf()&quot;</span> function. Beyond its
      self reference it also expects the format and list that was passed to the
      printf function.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub PRINTF {
        shift;
          my $fmt = shift;
        print sprintf($fmt, @_).&quot;\n&quot;;
    }
    </pre>
  </dd>
  <dt>READ this LIST</dt>
  <dd>This method will be called when the handle is read from via the
      <span class="Li">&quot;read&quot;</span> or
      <span class="Li">&quot;sysread&quot;</span> functions.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub READ {
        $r = shift;
        my($buf,$len,$offset) = @_;
        print &quot;READ called, \$buf=$buf, \$len=$len, \$offset=$offset&quot;;
    }
    </pre>
  </dd>
  <dt>READLINE this</dt>
  <dd>This method will be called when the handle is read from. The method should
      return undef when there is no more data.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub READLINE {
        $r = shift;
        return &quot;PRINT called $$r times\n&quot;
    }
    </pre>
  </dd>
  <dt>GETC this</dt>
  <dd>This method will be called when the
      <span class="Li">&quot;getc&quot;</span> function is called.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub GETC { print &quot;Don't GETC, Get Perl&quot;; return &quot;a&quot;; }
    </pre>
  </dd>
  <dt>DESTROY this</dt>
  <dd>As with the other types of ties, this method will be called when the tied
      handle is about to be destroyed. This is useful for debugging and possibly
      for cleaning up.
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    sub DESTROY {
        print &quot;&lt;/shout&gt;\n&quot;;
    }
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Malloc_enhancements"><a class="permalink" href="#Malloc_enhancements">Malloc
  enhancements</a></h2>
If perl is compiled with the malloc included with the perl distribution (that
  is, if <span class="Li">&quot;perl -V:d_mymalloc&quot;</span> is 'define')
  then you can print memory statistics at runtime by running Perl thusly:
<p class="Pp"><span class="Li"></span></p>
<pre>
  env PERL_DEBUG_MSTATS=2 perl your_script_here
</pre>
<p class="Pp">The value of 2 means to print statistics after compilation and on
    exit; with a value of 1, the statistics are printed only on exit. (If you
    want the statistics at an arbitrary time, you'll need to install the
    optional module Devel::Peek.)</p>
<p class="Pp">Three new compilation flags are recognized by malloc.c. (They have
    no effect if perl is compiled with system <b>malloc()</b>.)</p>
<dl class="Bl-tag">
  <dt>-DPERL_EMERGENCY_SBRK</dt>
  <dd>If this macro is defined, running out of memory need not be a fatal error:
      a memory pool can allocated by assigning to the special variable
      <span class="Li">$^M</span>. See &quot;$^M&quot;.</dd>
  <dt>-DPACK_MALLOC</dt>
  <dd>Perl memory allocation is by bucket with sizes close to powers of two.
      Because of these malloc overhead may be big, especially for data of size
      exactly a power of two. If <span class="Li">&quot;PACK_MALLOC&quot;</span>
      is defined, perl uses a slightly different algorithm for small allocations
      (up to 64 bytes long), which makes it possible to have overhead down to 1
      byte for allocations which are powers of two (and appear quite often).
    <p class="Pp">Expected memory savings (with 8-byte alignment in
        <span class="Li">&quot;alignbytes&quot;</span>) is about 20% for typical
        Perl usage. Expected slowdown due to additional malloc overhead is in
        fractions of a percent (hard to measure, because of the effect of saved
        memory on speed).</p>
  </dd>
  <dt>-DTWO_POT_OPTIMIZE</dt>
  <dd>Similarly to <span class="Li">&quot;PACK_MALLOC&quot;</span>, this macro
      improves allocations of data with size close to a power of two; but this
      works for big allocations (starting with 16K by default). Such allocations
      are typical for big hashes and special-purpose scripts, especially image
      processing.
    <p class="Pp">On recent systems, the fact that perl requires 2M from system
        for 1M allocation will not affect speed of execution, since the tail of
        such a chunk is not going to be touched (and thus will not require real
        memory). However, it may result in a premature out-of-memory error. So
        if you will be manipulating very large blocks with sizes close to powers
        of two, it would be wise to define this macro.</p>
    <p class="Pp">Expected saving of memory is 0-100% (100% in applications
        which require most memory in such 2**n chunks); expected slowdown is
        negligible.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Miscellaneous_efficiency_enhancements"><a class="permalink" href="#Miscellaneous_efficiency_enhancements">Miscellaneous
  efficiency enhancements</a></h2>
Functions that have an empty prototype and that do nothing but return a fixed
  value are now inlined (e.g. <span class="Li">&quot;sub PI () { 3.14159
  }&quot;</span>).
<p class="Pp">Each unique hash key is only allocated once, no matter how many
    hashes have an entry with that key. So even if you have 100 copies of the
    same hash, the hash keys never have to be reallocated.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Support_for_More_Operating_Systems"><a class="permalink" href="#Support_for_More_Operating_Systems">Support
  for More Operating Systems</a></h1>
Support for the following operating systems is new in Perl 5.004.
<section class="Ss">
<h2 class="Ss" id="Win32"><a class="permalink" href="#Win32">Win32</a></h2>
Perl 5.004 now includes support for building a &quot;native&quot; perl under
  Windows NT, using the Microsoft Visual C++ compiler (versions 2.0 and above)
  or the Borland C++ compiler (versions 5.02 and above). The resulting perl can
  be used under Windows 95 (if it is installed in the same directory locations
  as it got installed in Windows NT). This port includes support for perl
  extension building tools like ExtUtils::MakeMaker and h2xs, so that many
  extensions available on the Comprehensive Perl Archive Network (CPAN) can now
  be readily built under Windows NT. See http://www.perl.com/ for more
  information on CPAN and <i>README.win32</i> in the perl distribution for more
  details on how to get started with building this port.
<p class="Pp">There is also support for building perl under the Cygwin32
    environment. Cygwin32 is a set of GNU tools that make it possible to compile
    and run many Unix programs under Windows NT by providing a mostly Unix-like
    interface for compilation and execution. See <i>README.cygwin32</i> in the
    perl distribution for more details on this port and how to obtain the
    Cygwin32 toolkit.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Plan_9"><a class="permalink" href="#Plan_9">Plan 9</a></h2>
See <i>README.plan9</i> in the perl distribution.
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1QNX_s0"><a class="permalink" href="#_s-1QNX_s0">QNX</a></h2>
See <i>README.qnx</i> in the perl distribution.
</section>
<section class="Ss">
<h2 class="Ss" id="AmigaOS"><a class="permalink" href="#AmigaOS">AmigaOS</a></h2>
See <i>README.amigaos</i> in the perl distribution.
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Pragmata"><a class="permalink" href="#Pragmata">Pragmata</a></h1>
Six new pragmatic modules exist:
<dl class="Bl-tag">
  <dt>use autouse MODULE =&gt; qw(sub1 sub2 sub3)</dt>
  <dd>Defers <span class="Li">&quot;require MODULE&quot;</span> until someone
      calls one of the specified subroutines (which must be exported by MODULE).
      This pragma should be used with caution, and only when necessary.</dd>
  <dt>use blib</dt>
  <dd></dd>
  <dt>use blib 'dir'</dt>
  <dd>Looks for MakeMaker-like <i>'blib'</i> directory structure starting in
      <i>dir</i> (or current directory) and working back up to five levels of
      parent directories.
    <p class="Pp">Intended for use on command line with <b>-M</b> option as a
        way of testing arbitrary scripts against an uninstalled version of a
        package.</p>
  </dd>
  <dt>use constant NAME =&gt; VALUE</dt>
  <dd>Provides a convenient interface for creating compile-time constants, See
      &quot;Constant Functions&quot; in perlsub.</dd>
  <dt>use locale</dt>
  <dd>Tells the compiler to enable (or disable) the use of POSIX locales for
      builtin operations.
    <p class="Pp">When <span class="Li">&quot;use locale&quot;</span> is in
        effect, the current LC_CTYPE locale is used for regular expressions and
        case mapping; LC_COLLATE for string ordering; and LC_NUMERIC for numeric
        formatting in printf and sprintf (but <b>not</b> in print). LC_NUMERIC
        is always used in write, since lexical scoping of formats is problematic
        at best.</p>
    <p class="Pp">Each <span class="Li">&quot;use locale&quot;</span> or
        <span class="Li">&quot;no locale&quot;</span> affects statements to the
        end of the enclosing BLOCK or, if not inside a BLOCK, to the end of the
        current file. Locales can be switched and queried with
        <b>POSIX::setlocale()</b>.</p>
    <p class="Pp">See perllocale for more information.</p>
  </dd>
  <dt>use ops</dt>
  <dd>Disable unsafe opcodes, or any named opcodes, when compiling Perl
    code.</dd>
  <dt>use vmsish</dt>
  <dd>Enable VMS-specific language features. Currently, there are three
      VMS-specific features available: 'status', which makes
      <span class="Li">$?</span> and <span class="Li">&quot;system&quot;</span>
      return genuine VMS status values instead of emulating POSIX; 'exit', which
      makes <span class="Li">&quot;exit&quot;</span> take a genuine VMS status
      value instead of assuming that <span class="Li">&quot;exit 1&quot;</span>
      is an error; and 'time', which makes all times relative to the local time
      zone, in the VMS tradition.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules"><a class="permalink" href="#Modules">Modules</a></h1>
<section class="Ss">
<h2 class="Ss" id="Required_Updates"><a class="permalink" href="#Required_Updates">Required
  Updates</a></h2>
Though Perl 5.004 is compatible with almost all modules that work with Perl
  5.003, there are a few exceptions:
<p class="Pp"><span class="Li"></span></p>
<pre>
    Module   Required Version for Perl 5.004
    ------   -------------------------------
    Filter   Filter-1.12
    LWP      libwww-perl-5.08
    Tk       Tk400.202 (-w makes noise)
</pre>
<p class="Pp">Also, the majordomo mailing list program, version 1.94.1, doesn't
    work with Perl 5.004 (nor with perl 4), because it executes an invalid
    regular expression. This bug is fixed in majordomo version 1.94.2.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Installation_directories"><a class="permalink" href="#Installation_directories">Installation
  directories</a></h2>
The <i>installperl</i> script now places the Perl source files for extensions in
  the architecture-specific library directory, which is where the shared
  libraries for extensions have always been. This change is intended to allow
  administrators to keep the Perl 5.004 library directory unchanged from a
  previous version, without running the risk of binary incompatibility between
  extensions' Perl source and shared libraries.
</section>
<section class="Ss">
<h2 class="Ss" id="Module_information_summary"><a class="permalink" href="#Module_information_summary">Module
  information summary</a></h2>
Brand new modules, arranged by topic rather than strictly alphabetically:
<p class="Pp"><span class="Li"></span></p>
<pre>
    CGI.pm               Web server interface (&quot;Common Gateway Interface&quot;)
    CGI/Apache.pm        Support for Apache's Perl module
    CGI/Carp.pm          Log server errors with helpful context
    CGI/Fast.pm          Support for FastCGI (persistent server process)
    CGI/Push.pm          Support for server push
    CGI/Switch.pm        Simple interface for multiple server types

    CPAN                 Interface to Comprehensive Perl Archive Network
    CPAN::FirstTime      Utility for creating CPAN configuration file
    CPAN::Nox            Runs CPAN while avoiding compiled extensions

    IO.pm                Top-level interface to IO::* classes
    IO/File.pm           IO::File extension Perl module
    IO/Handle.pm         IO::Handle extension Perl module
    IO/Pipe.pm           IO::Pipe extension Perl module
    IO/Seekable.pm       IO::Seekable extension Perl module
    IO/Select.pm         IO::Select extension Perl module
    IO/Socket.pm         IO::Socket extension Perl module

    Opcode.pm            Disable named opcodes when compiling Perl code

    ExtUtils/Embed.pm    Utilities for embedding Perl in C programs
    ExtUtils/testlib.pm  Fixes up @INC to use just-built extension

    FindBin.pm           Find path of currently executing program

    Class/Struct.pm      Declare struct-like datatypes as Perl classes
    File/stat.pm         By-name interface to Perl's builtin stat
    Net/hostent.pm       By-name interface to Perl's builtin gethost*
    Net/netent.pm        By-name interface to Perl's builtin getnet*
    Net/protoent.pm      By-name interface to Perl's builtin getproto*
    Net/servent.pm       By-name interface to Perl's builtin getserv*
    Time/gmtime.pm       By-name interface to Perl's builtin gmtime
    Time/localtime.pm    By-name interface to Perl's builtin localtime
    Time/tm.pm           Internal object for Time::{gm,local}time
    User/grent.pm        By-name interface to Perl's builtin getgr*
    User/pwent.pm        By-name interface to Perl's builtin getpw*

    Tie/RefHash.pm       Base class for tied hashes with references as keys

    UNIVERSAL.pm         Base class for *ALL* classes
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Fcntl"><a class="permalink" href="#Fcntl">Fcntl</a></h2>
New constants in the existing Fcntl modules are now supported, provided that
  your operating system happens to support them:
<p class="Pp"><span class="Li"></span></p>
<pre>
    F_GETOWN F_SETOWN
    O_ASYNC O_DEFER O_DSYNC O_FSYNC O_SYNC
    O_EXLOCK O_SHLOCK
</pre>
<p class="Pp">These constants are intended for use with the Perl operators
    <b>sysopen()</b> and <b>fcntl()</b> and the basic database modules like
    SDBM_File. For the exact meaning of these and other Fcntl constants please
    refer to your operating system's documentation for <b>fcntl()</b> and
    <b>open()</b>.</p>
<p class="Pp">In addition, the Fcntl module now provides these constants for use
    with the Perl operator <b>flock()</b>:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
        LOCK_SH LOCK_EX LOCK_NB LOCK_UN
</pre>
<p class="Pp">These constants are defined in all environments (because where
    there is no <b>flock()</b> system call, Perl emulates it). However, for
    historical reasons, these constants are not exported unless they are
    explicitly requested with the &quot;:flock&quot; tag (e.g.
    <span class="Li">&quot;use Fcntl ':flock'&quot;</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_s-1IO_s0"><a class="permalink" href="#_s-1IO_s0">IO</a></h2>
The IO module provides a simple mechanism to load all the IO modules at one go.
  Currently this includes:
<p class="Pp"><span class="Li"></span></p>
<pre>
     IO::Handle
     IO::Seekable
     IO::File
     IO::Pipe
     IO::Socket
</pre>
<p class="Pp">For more information on any of these modules, please see its
    respective documentation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Math::Complex"><a class="permalink" href="#Math::Complex">Math::Complex</a></h2>
The Math::Complex module has been totally rewritten, and now supports more
  operations. These are overloaded:
<p class="Pp"><span class="Li"></span></p>
<pre>
     + - * / ** &lt;=&gt; neg ~ abs sqrt exp log sin cos atan2 &quot;&quot; (stringify)
</pre>
<p class="Pp">And these functions are now exported:</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    pi i Re Im arg
    log10 logn ln cbrt root
    tan
    csc sec cot
    asin acos atan
    acsc asec acot
    sinh cosh tanh
    csch sech coth
    asinh acosh atanh
    acsch asech acoth
    cplx cplxe
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Math::Trig"><a class="permalink" href="#Math::Trig">Math::Trig</a></h2>
This new module provides a simpler interface to parts of Math::Complex for those
  who need trigonometric functions only for real numbers.
</section>
<section class="Ss">
<h2 class="Ss" id="DB_File"><a class="permalink" href="#DB_File">DB_File</a></h2>
There have been quite a few changes made to DB_File. Here are a few of the
  highlights:
<ul class="Bl-bullet">
  <li>Fixed a handful of bugs.</li>
  <li>By public demand, added support for the standard hash function
      <b>exists()</b>.</li>
  <li>Made it compatible with Berkeley DB 1.86.</li>
  <li>Made negative subscripts work with RECNO interface.</li>
  <li>Changed the default flags from O_RDWR to O_CREAT|O_RDWR and the default
      mode from 0640 to 0666.</li>
  <li>Made DB_File automatically import the <b>open()</b> constants (O_RDWR,
      O_CREAT etc.) from Fcntl, if available.</li>
  <li>Updated documentation.</li>
</ul>
<p class="Pp">Refer to the HISTORY section in DB_File.pm for a complete list of
    changes. Everything after DB_File 1.01 has been added since 5.003.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Net::Ping"><a class="permalink" href="#Net::Ping">Net::Ping</a></h2>
Major rewrite - support added for both udp echo and real icmp pings.
</section>
<section class="Ss">
<h2 class="Ss" id="Object-oriented_overrides_for_builtin_operators"><a class="permalink" href="#Object-oriented_overrides_for_builtin_operators">Object-oriented
  overrides for builtin operators</a></h2>
Many of the Perl builtins returning lists now have object-oriented overrides.
  These are:
<p class="Pp"><span class="Li"></span></p>
<pre>
    File::stat
    Net::hostent
    Net::netent
    Net::protoent
    Net::servent
    Time::gmtime
    Time::localtime
    User::grent
    User::pwent
</pre>
<p class="Pp">For example, you can now say</p>
<p class="Pp"><span class="Li"></span></p>
<pre>
    use File::stat;
    use User::pwent;
    $his = (stat($filename)-&gt;st_uid == pwent($whoever)-&gt;pw_uid);
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="pod2html"><a class="permalink" href="#pod2html">pod2html</a></h2>
<dl class="Bl-tag">
  <dt>Sends converted HTML to standard output</dt>
  <dd>The <i>pod2html</i> utility included with Perl 5.004 is entirely new. By
      default, it sends the converted HTML to its standard output, instead of
      writing it to a file like Perl 5.003's <i>pod2html</i> did. Use the
      <b>--outfile=FILENAME</b> option to write to a file.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="xsubpp"><a class="permalink" href="#xsubpp">xsubpp</a></h2>
<dl class="Bl-tag">
  <dt>&quot;void&quot; XSUBs now default to returning nothing</dt>
  <dd>Due to a documentation/implementation bug in previous versions of Perl,
      XSUBs with a return type of <span class="Li">&quot;void&quot;</span> have
      actually been returning one value. Usually that value was the GV for the
      XSUB, but sometimes it was some already freed or reused value, which would
      sometimes lead to program failure.
    <p class="Pp">In Perl 5.004, if an XSUB is declared as returning
        <span class="Li">&quot;void&quot;</span>, it actually returns no value,
        i.e. an empty list (though there is a backward-compatibility exception;
        see below). If your XSUB really does return an SV, you should give it a
        return type of <span class="Li">&quot;SV *&quot;</span>.</p>
    <p class="Pp">For backward compatibility, <i>xsubpp</i> tries to guess
        whether a <span class="Li">&quot;void&quot;</span> XSUB is really
        <span class="Li">&quot;void&quot;</span> or if it wants to return an
        <span class="Li">&quot;SV *&quot;</span>. It does so by examining the
        text of the XSUB: if <i>xsubpp</i> finds what looks like an assignment
        to <span class="Li">ST(0)</span>, it assumes that the XSUB's return type
        is really <span class="Li">&quot;SV *&quot;</span>.</p>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="C_Language_API_Changes"><a class="permalink" href="#C_Language_API_Changes">C
  Language API Changes</a></h1>
<dl class="Bl-tag">
  <dt>&quot;gv_fetchmethod&quot; and &quot;perl_call_sv&quot;</dt>
  <dd>The <span class="Li">&quot;gv_fetchmethod&quot;</span> function finds a
      method for an object, just like in Perl 5.003. The GV it returns may be a
      method cache entry. However, in Perl 5.004, method cache entries are not
      visible to users; therefore, they can no longer be passed directly to
      <span class="Li">&quot;perl_call_sv&quot;</span>. Instead, you should use
      the <span class="Li">&quot;GvCV&quot;</span> macro on the GV to extract
      its CV, and pass the CV to
      <span class="Li">&quot;perl_call_sv&quot;</span>.
    <p class="Pp">The most likely symptom of passing the result of
        <span class="Li">&quot;gv_fetchmethod&quot;</span> to
        <span class="Li">&quot;perl_call_sv&quot;</span> is Perl's producing an
        &quot;Undefined subroutine called&quot; error on the <i>second</i> call
        to a given method (since there is no cache on the first call).</p>
  </dd>
  <dt>&quot;perl_eval_pv&quot;</dt>
  <dd>A new function handy for eval'ing strings of Perl code inside C code. This
      function returns the value from the eval statement, which can be used
      instead of fetching globals from the symbol table. See perlguts, perlembed
      and perlcall for details and examples.</dd>
  <dt>Extended API for manipulating hashes</dt>
  <dd>Internal handling of hash keys has changed. The old hashtable API is still
      fully supported, and will likely remain so. The additions to the API allow
      passing keys as <span class="Li">&quot;SV*&quot;</span>s, so that
      <span class="Li">&quot;tied&quot;</span> hashes can be given real scalars
      as keys rather than plain strings (nontied hashes still can only use
      strings as keys). New extensions must use the new hash access functions
      and macros if they wish to use <span class="Li">&quot;SV*&quot;</span>
      keys. These additions also make it feasible to manipulate
      <span class="Li">&quot;HE*&quot;</span>s (hash entries), which can be more
      efficient. See perlguts for details.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Documentation_Changes"><a class="permalink" href="#Documentation_Changes">Documentation
  Changes</a></h1>
Many of the base and library pods were updated. These new pods are included in
  section 1:
<dl class="Bl-tag">
  <dt>perldelta</dt>
  <dd>This document.</dd>
  <dt>perlfaq</dt>
  <dd>Frequently asked questions.</dd>
  <dt>perllocale</dt>
  <dd>Locale support (internationalization and localization).</dd>
  <dt>perltoot</dt>
  <dd>Tutorial on Perl OO programming.</dd>
  <dt>perlapio</dt>
  <dd>Perl internal IO abstraction interface.</dd>
  <dt>perlmodlib</dt>
  <dd>Perl module library and recommended practice for module creation.
      Extracted from perlmod (which is much smaller as a result).</dd>
  <dt>perldebug</dt>
  <dd>Although not new, this has been massively updated.</dd>
  <dt>perlsec</dt>
  <dd>Although not new, this has been massively updated.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Diagnostics"><a class="permalink" href="#New_Diagnostics">New
  Diagnostics</a></h1>
Several new conditions will trigger warnings that were silent before. Some only
  affect certain platforms. The following new warnings and errors outline these.
  These messages are classified as follows (listed in increasing order of
  desperation):
<p class="Pp"><span class="Li"></span></p>
<pre>
   (W) A warning (optional).
   (D) A deprecation (optional).
   (S) A severe warning (mandatory).
   (F) A fatal error (trappable).
   (P) An internal error you should never see (trappable).
   (X) A very fatal error (nontrappable).
   (A) An alien error message (not generated by Perl).
</pre>
<dl class="Bl-tag">
  <dt>&quot;my&quot; variable %s masks earlier declaration in same scope</dt>
  <dd>(W) A lexical variable has been redeclared in the same scope, effectively
      eliminating all access to the previous instance. This is almost always a
      typographical error. Note that the earlier variable will still exist until
      the end of the scope or until all closure referents to it are
    destroyed.</dd>
  <dt>%s argument is not a HASH element or slice</dt>
  <dd>(F) The argument to <b>delete()</b> must be either a hash element, such as
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    $foo{$bar}
    $ref-&gt;[12]-&gt;{&quot;susie&quot;}
    </pre>
    <p class="Pp">or a hash slice, such as</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    @foo{$bar, $baz, $xyzzy}
    @{$ref-&gt;[12]}{&quot;susie&quot;, &quot;queue&quot;}
    </pre>
  </dd>
  <dt>Allocation too large: %lx</dt>
  <dd>(X) You can't allocate more than 64K on an MS-DOS machine.</dd>
  <dt>Allocation too large</dt>
  <dd>(F) You can't allocate more than 2^31+&quot;small amount&quot; bytes.</dd>
  <dt>Applying %s to %s will act on scalar(%s)</dt>
  <dd>(W) The pattern match (//), substitution (s///), and transliteration
      (tr///) operators work on scalar values. If you apply one of them to an
      array or a hash, it will convert the array or hash to a scalar value (the
      length of an array or the population info of a hash) and then work on that
      scalar value. This is probably not what you meant to do. See
      &quot;grep&quot; in perlfunc and &quot;map&quot; in perlfunc for
      alternatives.</dd>
  <dt>Attempt to free nonexistent shared string</dt>
  <dd>(P) Perl maintains a reference counted internal table of strings to
      optimize the storage and access of hash keys and other strings. This
      indicates someone tried to decrement the reference count of a string that
      can no longer be found in the table.</dd>
  <dt>Attempt to use reference as lvalue in substr</dt>
  <dd>(W) You supplied a reference as the first argument to <b>substr()</b> used
      as an lvalue, which is pretty strange. Perhaps you forgot to dereference
      it first. See &quot;substr&quot; in perlfunc.</dd>
  <dt>Bareword &quot;%s&quot; refers to nonexistent package</dt>
  <dd>(W) You used a qualified bareword of the form
      <span class="Li">&quot;Foo::&quot;</span>, but the compiler saw no other
      uses of that namespace before that point. Perhaps you need to predeclare a
      package?</dd>
  <dt>Can't redefine active sort subroutine %s</dt>
  <dd>(F) Perl optimizes the internal handling of sort subroutines and keeps
      pointers into them. You tried to redefine one such sort subroutine when it
      was currently active, which is not allowed. If you really want to do this,
      you should write <span class="Li">&quot;sort { &amp;func } @x&quot;</span>
      instead of <span class="Li">&quot;sort func @x&quot;</span>.</dd>
  <dt>Can't use bareword (&quot;%s&quot;) as %s ref while &quot;strict
    refs&quot; in use</dt>
  <dd>(F) Only hard references are allowed by &quot;strict refs&quot;. Symbolic
      references are disallowed. See perlref.</dd>
  <dt>Cannot resolve method `%s' overloading `%s' in package `%s'</dt>
  <dd>(P) Internal error trying to resolve overloading specified by a method
      name (as opposed to a subroutine reference).</dd>
  <dt>Constant subroutine %s redefined</dt>
  <dd>(S) You redefined a subroutine which had previously been eligible for
      inlining. See &quot;Constant Functions&quot; in perlsub for commentary and
      workarounds.</dd>
  <dt>Constant subroutine %s undefined</dt>
  <dd>(S) You undefined a subroutine which had previously been eligible for
      inlining. See &quot;Constant Functions&quot; in perlsub for commentary and
      workarounds.</dd>
  <dt>Copy method did not return a reference</dt>
  <dd>(F) The method which overloads &quot;=&quot; is buggy. See &quot;Copy
      Constructor&quot; in overload.</dd>
  <dt>Died</dt>
  <dd>(F) You passed <b>die()</b> an empty string (the equivalent of
      <span class="Li">&quot;die &quot;&quot;&quot;</span>) or you called it
      with no args and both <span class="Li">$@</span> and
      <span class="Li">$_</span> were empty.</dd>
  <dt>Exiting pseudo-block via %s</dt>
  <dd>(W) You are exiting a rather special block construct (like a sort block or
      subroutine) by unconventional means, such as a goto, or a loop control
      statement. See &quot;sort&quot; in perlfunc.</dd>
  <dt>Identifier too long</dt>
  <dd>(F) Perl limits identifiers (names for variables, functions, etc.) to 252
      characters for simple names, somewhat more for compound names (like
      <span class="Li">$A::B</span>). You've exceeded Perl's limits. Future
      versions of Perl are likely to eliminate these arbitrary limitations.</dd>
  <dt>Illegal character %s (carriage return)</dt>
  <dd>(F) A carriage return character was found in the input. This is an error,
      and not a warning, because carriage return characters can break multi-line
      strings, including here documents (e.g., <span class="Li">&quot;print
      &lt;&lt;EOF;&quot;</span>).</dd>
  <dt>Illegal switch in PERL5OPT: %s</dt>
  <dd>(X) The PERL5OPT environment variable may only be used to set the
      following switches: <b>-[DIMUdmw]</b>.</dd>
  <dt>Integer overflow in hex number</dt>
  <dd>(S) The literal hex number you have specified is too big for your
      architecture. On a 32-bit architecture the largest hex literal is
      0xFFFFFFFF.</dd>
  <dt>Integer overflow in octal number</dt>
  <dd>(S) The literal octal number you have specified is too big for your
      architecture. On a 32-bit architecture the largest octal literal is
      037777777777.</dd>
  <dt>internal error: glob failed</dt>
  <dd>(P) Something went wrong with the external program(s) used for
      <span class="Li">&quot;glob&quot;</span> and
      <span class="Li">&quot;&lt;*.c&gt;&quot;</span>. This may mean that your
      csh (C shell) is broken. If so, you should change all of the csh-related
      variables in config.sh: If you have tcsh, make the variables refer to it
      as if it were csh (e.g.
      <span class="Li">&quot;full_csh='/usr/bin/tcsh'&quot;</span>); otherwise,
      make them all empty (except that <span class="Li">&quot;d_csh&quot;</span>
      should be <span class="Li">'undef'</span>) so that Perl will think csh is
      missing. In either case, after editing config.sh, run
      <span class="Li">&quot;./Configure -S&quot;</span> and rebuild Perl.</dd>
  <dt>Invalid conversion in %s: &quot;%s&quot;</dt>
  <dd>(W) Perl does not understand the given format conversion. See
      &quot;sprintf&quot; in perlfunc.</dd>
  <dt>Invalid type in pack: '%s'</dt>
  <dd>(F) The given character is not a valid pack type. See &quot;pack&quot; in
      perlfunc.</dd>
  <dt>Invalid type in unpack: '%s'</dt>
  <dd>(F) The given character is not a valid unpack type. See &quot;unpack&quot;
      in perlfunc.</dd>
  <dt>Name &quot;%s::%s&quot; used only once: possible typo</dt>
  <dd>(W) Typographical errors often show up as unique variable names. If you
      had a good reason for having a unique name, then just mention it again
      somehow to suppress the message (the <span class="Li">&quot;use
      vars&quot;</span> pragma is provided for just this purpose).</dd>
  <dt>Null picture in formline</dt>
  <dd>(F) The first argument to formline must be a valid format picture
      specification. It was found to be empty, which probably means you supplied
      it an uninitialized value. See perlform.</dd>
  <dt>Offset outside string</dt>
  <dd>(F) You tried to do a read/write/send/recv operation with an offset
      pointing outside the buffer. This is difficult to imagine. The sole
      exception to this is that <span class="Li">&quot;sysread()&quot;</span>ing
      past the buffer will extend the buffer and zero pad the new area.</dd>
  <dt>Out of memory!</dt>
  <dd>(X|F) The <b>malloc()</b> function returned 0, indicating there was
      insufficient remaining memory (or virtual memory) to satisfy the request.
    <p class="Pp">The request was judged to be small, so the possibility to trap
        it depends on the way Perl was compiled. By default it is not trappable.
        However, if compiled for this, Perl may use the contents of
        <span class="Li">$^M</span> as an emergency pool after <b>die()</b>ing
        with this message. In this case the error is trappable <i>once</i>.</p>
  </dd>
  <dt>Out of memory during request for %s</dt>
  <dd>(F) The <b>malloc()</b> function returned 0, indicating there was
      insufficient remaining memory (or virtual memory) to satisfy the request.
      However, the request was judged large enough (compile-time default is
      64K), so a possibility to shut down by trapping this error is
    granted.</dd>
  <dt>panic: frexp</dt>
  <dd>(P) The library function <b>frexp()</b> failed, making
      printf(&quot;%f&quot;) impossible.</dd>
  <dt>Possible attempt to put comments in <b>qw()</b> list</dt>
  <dd>(W) <b>qw()</b> lists contain items separated by whitespace; as with
      literal strings, comment characters are not ignored, but are instead
      treated as literal data. (You may have used different delimiters than the
      parentheses shown here; braces are also frequently used.)
    <p class="Pp">You probably wrote something like this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    @list = qw(
        a # a comment
        b # another comment
    );
    </pre>
    <p class="Pp">when you should have written this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    @list = qw(
        a
        b
    );
    </pre>
    <p class="Pp">If you really want comments, build your list the old-fashioned
        way, with quotes and commas:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    @list = (
        'a',    # a comment
        'b',    # another comment
    );
    </pre>
  </dd>
  <dt>Possible attempt to separate words with commas</dt>
  <dd>(W) <b>qw()</b> lists contain items separated by whitespace; therefore
      commas aren't needed to separate the items. (You may have used different
      delimiters than the parentheses shown here; braces are also frequently
      used.)
    <p class="Pp">You probably wrote something like this:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    qw! a, b, c !;
    </pre>
    <p class="Pp">which puts literal commas into some of the list items. Write
        it without commas if you don't want them to appear in your data:</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    qw! a b c !;
    </pre>
  </dd>
  <dt>Scalar value @%s{%s} better written as $%s{%s}</dt>
  <dd>(W) You've used a hash slice (indicated by @) to select a single element
      of a hash. Generally it's better to ask for a scalar value (indicated by
      $). The difference is that <span class="Li">$foo{&amp;bar}</span> always
      behaves like a scalar, both when assigning to it and when evaluating its
      argument, while <span class="Li">@foo{&amp;bar}</span> behaves like a list
      when you assign to it, and provides a list context to its subscript, which
      can do weird things if you're expecting only one subscript.</dd>
  <dt>Stub found while resolving method `%s' overloading `%s' in %s</dt>
  <dd>(P) Overloading resolution over <span class="Li">@ISA</span> tree may be
      broken by importing stubs. Stubs should never be implicitly created, but
      explicit calls to <span class="Li">&quot;can&quot;</span> may break
    this.</dd>
  <dt>Too late for &quot;<b>-T</b>&quot; option</dt>
  <dd>(X) The #! line (or local equivalent) in a Perl script contains the
      <b>-T</b> option, but Perl was not invoked with <b>-T</b> in its argument
      list. This is an error because, by the time Perl discovers a <b>-T</b> in
      a script, it's too late to properly taint everything from the environment.
      So Perl gives up.</dd>
  <dt>untie attempted while %d inner references still exist</dt>
  <dd>(W) A copy of the object returned from
      <span class="Li">&quot;tie&quot;</span> (or
      <span class="Li">&quot;tied&quot;</span>) was still valid when
      <span class="Li">&quot;untie&quot;</span> was called.</dd>
  <dt>Unrecognized character %s</dt>
  <dd>(F) The Perl parser has no idea what to do with the specified character in
      your Perl script (or eval). Perhaps you tried to run a compressed script,
      a binary program, or a directory as a Perl program.</dd>
  <dt>Unsupported function fork</dt>
  <dd>(F) Your version of executable does not support forking.
    <p class="Pp">Note that under some systems, like OS/2, there may be
        different flavors of Perl executables, some of which may support fork,
        some not. Try changing the name you call Perl by to
        <span class="Li">&quot;perl_&quot;</span>,
        <span class="Li">&quot;perl__&quot;</span>, and so on.</p>
  </dd>
  <dt>Use of &quot;$$&lt;digit&gt;&quot; to mean &quot;${$}&lt;digit&gt;&quot;
    is deprecated</dt>
  <dd>(D) Perl versions before 5.004 misinterpreted any type marker followed by
      &quot;$&quot; and a digit. For example, &quot;$$0&quot; was incorrectly
      taken to mean &quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is
      (mostly) fixed in Perl 5.004.
    <p class="Pp">However, the developers of Perl 5.004 could not fix this bug
        completely, because at least two widely-used modules depend on the old
        meaning of &quot;$$0&quot; in a string. So Perl 5.004 still interprets
        &quot;$$&lt;digit&gt;&quot; in the old (broken) way inside strings; but
        it generates this message as a warning. And in Perl 5.005, this special
        treatment will cease.</p>
  </dd>
  <dt>Value of %s can be &quot;0&quot;; test with <b>defined()</b></dt>
  <dd>(W) In a conditional expression, you used &lt;HANDLE&gt;, &lt;*&gt;
      (glob), <span class="Li">&quot;each()&quot;</span>, or
      <span class="Li">&quot;readdir()&quot;</span> as a boolean value. Each of
      these constructs can return a value of &quot;0&quot;; that would make the
      conditional expression false, which is probably not what you intended.
      When using these constructs in conditional expressions, test their values
      with the <span class="Li">&quot;defined&quot;</span> operator.</dd>
  <dt>Variable &quot;%s&quot; may be unavailable</dt>
  <dd>(W) An inner (nested) <i>anonymous</i> subroutine is inside a <i>named</i>
      subroutine, and outside that is another subroutine; and the anonymous
      (innermost) subroutine is referencing a lexical variable defined in the
      outermost subroutine. For example:
    <p class="Pp"><span class="Li"></span></p>
    <pre>
   sub outermost { my $a; sub middle { sub { $a } } }
    </pre>
    <p class="Pp">If the anonymous subroutine is called or referenced (directly
        or indirectly) from the outermost subroutine, it will share the variable
        as you would expect. But if the anonymous subroutine is called or
        referenced when the outermost subroutine is not active, it will see the
        value of the shared variable as it was before and during the *first*
        call to the outermost subroutine, which is probably not what you
      want.</p>
    <p class="Pp">In these circumstances, it is usually best to make the middle
        subroutine anonymous, using the <span class="Li">&quot;sub
        {}&quot;</span> syntax. Perl has specific support for shared variables
        in nested anonymous subroutines; a named subroutine in between
        interferes with this feature.</p>
  </dd>
  <dt>Variable &quot;%s&quot; will not stay shared</dt>
  <dd>(W) An inner (nested) <i>named</i> subroutine is referencing a lexical
      variable defined in an outer subroutine.
    <p class="Pp">When the inner subroutine is called, it will probably see the
        value of the outer subroutine's variable as it was before and during the
        *first* call to the outer subroutine; in this case, after the first call
        to the outer subroutine is complete, the inner and outer subroutines
        will no longer share a common value for the variable. In other words,
        the variable will no longer be shared.</p>
    <p class="Pp">Furthermore, if the outer subroutine is anonymous and
        references a lexical variable outside itself, then the outer and inner
        subroutines will <i>never</i> share the given variable.</p>
    <p class="Pp">This problem can usually be solved by making the inner
        subroutine anonymous, using the <span class="Li">&quot;sub
        {}&quot;</span> syntax. When inner anonymous subs that reference
        variables in outer subroutines are called or referenced, they are
        automatically rebound to the current values of such variables.</p>
  </dd>
  <dt>Warning: something's wrong</dt>
  <dd>(W) You passed <b>warn()</b> an empty string (the equivalent of
      <span class="Li">&quot;warn &quot;&quot;&quot;</span>) or you called it
      with no args and <span class="Li">$_</span> was empty.</dd>
  <dt>Ill-formed logical name |%s| in prime_env_iter</dt>
  <dd>(W) A warning peculiar to VMS. A logical name was encountered when
      preparing to iterate over <span class="Li">%ENV</span> which violates the
      syntactic rules governing logical names. Since it cannot be translated
      normally, it is skipped, and will not appear in
      <span class="Li">%ENV</span>. This may be a benign occurrence, as some
      software packages might directly modify logical name tables and introduce
      nonstandard names, or it may indicate that a logical name table has been
      corrupted.</dd>
  <dt>Got an error from DosAllocMem</dt>
  <dd>(P) An error peculiar to OS/2. Most probably you're using an obsolete
      version of Perl, and this should not happen anyway.</dd>
  <dt>Malformed PERLLIB_PREFIX</dt>
  <dd>(F) An error peculiar to OS/2. PERLLIB_PREFIX should be of the form
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    prefix1;prefix2
    </pre>
    <p class="Pp">or</p>
    <p class="Pp"><span class="Li"></span></p>
    <pre>
    prefix1 prefix2
    </pre>
    <p class="Pp">with nonempty prefix1 and prefix2. If
        <span class="Li">&quot;prefix1&quot;</span> is indeed a prefix of a
        builtin library search path, prefix2 is substituted. The error may
        appear if components are not found, or are too long. See
        &quot;PERLLIB_PREFIX&quot; in <i>README.os2</i>.</p>
  </dd>
  <dt>PERL_SH_DIR too long</dt>
  <dd>(F) An error peculiar to OS/2. PERL_SH_DIR is the directory to find the
      <span class="Li">&quot;sh&quot;</span>-shell in. See
      &quot;PERL_SH_DIR&quot; in <i>README.os2</i>.</dd>
  <dt>Process terminated by SIG%s</dt>
  <dd>(W) This is a standard message issued by OS/2 applications, while *nix
      applications die in silence. It is considered a feature of the OS/2 port.
      One can easily disable this by appropriate sighandlers, see
      &quot;Signals&quot; in perlipc. See also &quot;Process terminated by
      SIGTERM/SIGINT&quot; in <i>README.os2</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
If you find what you think is a bug, you might check the headers of recently
  posted articles in the comp.lang.perl.misc newsgroup. There may also be
  information at http://www.perl.com/perl/ , the Perl Home Page.
<p class="Pp">If you believe you have an unreported bug, please run the
    <b>perlbug</b> program included with your release. Make sure you trim your
    bug down to a tiny but sufficient test case. Your bug report, along with the
    output of <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    &lt;<i>perlbug@perl.com</i>&gt; to be analysed by the Perl porting team.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The <i>Changes</i> file for exhaustive details on what changed.
<p class="Pp">The <i>INSTALL</i> file for how to build Perl. This file has been
    significantly updated for 5.004, so even veteran users should look through
    it.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Copying</i> file for copyright information.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
Constructed by Tom Christiansen, grabbing material with permission from
  innumerable contributors, with kibitzing by more than a few Perl porters.
<p class="Pp">Last update: Wed May 14 11:14:09 EDT 1997</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>

	</div>
	<div class=footer>
		<p>Copyright 2020 Scott Court</p>
	</div>
	</div>
</body>
